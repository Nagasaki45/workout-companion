import{f as d,a as n,e as ft,t as mt,c as ht}from"../chunks/BDuLsZKY.js";import{i as ct}from"../chunks/CU28HvW-.js";import{a0 as jt,a7 as $t,a8 as gt,a1 as bt,Z as kt,x as wt,a2 as v,e as t,a5 as e,a9 as V,a3 as l,u as a,a6 as h}from"../chunks/CEpFFJjy.js";import{s as u}from"../chunks/CoB_gn-2.js";import{i as j}from"../chunks/YPQZep5m.js";import{e as K,i as M}from"../chunks/BO-cx_9R.js";import{s as X}from"../chunks/Bi2WSQJX.js";import{s as yt,a as Y}from"../chunks/DyuGTZZS.js";import{p as Wt}from"../chunks/C-5BzL7G.js";import{w as x}from"../chunks/CKlytb3N.js";import{g as q}from"../chunks/D_F1M1T5.js";var Rt=d("<span> </span>"),Ct=d("<span> </span>"),It=d('<div class="exercise-notes svelte-thejo2"> </div>'),St=d('<li class="svelte-thejo2"><div class="exercise-name svelte-thejo2"> </div> <div class="exercise-details svelte-thejo2"> <!> <!></div> <!></li>'),Ut=d('<div class="round-card svelte-thejo2"><h3 class="svelte-thejo2"></h3> <p class="round-meta svelte-thejo2"> <!></p> <ul class="exercise-list svelte-thejo2"></ul></div>'),At=d('<div class="rounds-container"></div>'),Dt=d("<span> </span>"),Et=d("<span> </span>"),Lt=d('<div class="exercise-notes svelte-thejo2"> </div>'),Zt=d('<li class="svelte-thejo2"><div class="exercise-name svelte-thejo2"> </div> <div class="exercise-details svelte-thejo2"> <!> <!></div> <!></li>'),qt=d('<ul class="exercise-list standalone svelte-thejo2"></ul>'),zt=d('<h1 class="svelte-thejo2"> </h1> <div class="actions svelte-thejo2"><a class="button button-start svelte-thejo2">Start Workout</a> <a class="button button-edit svelte-thejo2">Edit</a> <button class="button button-delete svelte-thejo2">Delete Workout</button></div> <h2 class="svelte-thejo2">Workout Structure</h2> <!>',1),Bt=d("<p>Workout not found. Loading...</p>"),Ft=d('<div class="container svelte-thejo2"><!></div>');function Xt(tt,at){jt(at,!1);const N=()=>Y(Wt,"$page",P),O=()=>Y(x,"$workouts",P),[P,ot]=yt();let r=wt();function st(){t(r)&&confirm(`Are you sure you want to delete "${t(r).name}"?`)&&(x.update(p=>p.filter($=>$.name!==t(r)?.name)),q("/"))}$t(()=>(N(),O(),q),()=>{const p=N().params.slug;if(p){const $=decodeURIComponent(p),W=O().find(B=>B.name===$);W?kt(r,W):q("/")}else q("/")}),gt(),ct();var z=Ft(),et=v(z);{var rt=p=>{var $=zt(),W=V($),B=v(W,!0);e(W);var F=l(W,2),Q=v(F),T=l(Q,2),nt=l(T,2);e(F);var lt=l(F,4);{var _t=g=>{var b=At();K(b,5,()=>(t(r),a(()=>t(r).rounds)),M,(G,c,I)=>{var w=Ut(),L=v(w);L.textContent=`Round ${I+1}`;var o=l(L,2),R=v(o),S=l(R);{var H=k=>{var s=mt();h(()=>u(s,`, with ${t(c),a(()=>t(c).rest_after_round)??""}s rest after`)),n(k,s)};j(S,k=>{t(c),a(()=>t(c).rest_after_round)&&k(H)})}e(o);var C=l(o,2);K(C,5,()=>(t(c),a(()=>t(c).exercises)),M,(k,s)=>{var U=St(),A=v(U),J=v(A,!0);e(A);var D=l(A,2),Z=v(D),_=l(Z);{var i=f=>{var m=Rt(),E=v(m);e(m),h(()=>u(E,` • ${t(s),a(()=>t(s).sets)??""} sets`)),n(f,m)};j(_,f=>{t(s),a(()=>t(s).sets&&t(s).sets>1)&&f(i)})}var y=l(_,2);{var it=f=>{var m=Ct(),E=v(m);e(m),h(()=>u(E,` • ${t(s),a(()=>t(s).rest)??""}s rest`)),n(f,m)};j(y,f=>{t(s),a(()=>t(s).rest)&&f(it)})}e(D);var ut=l(D,2);{var pt=f=>{var m=It(),E=v(m,!0);e(m),h(()=>u(E,(t(s),a(()=>t(s).notes)))),n(f,m)};j(ut,f=>{t(s),a(()=>t(s).notes)&&f(pt)})}e(U),h(()=>{u(J,(t(s),a(()=>t(s).name))),u(Z,`${t(s),a(()=>t(s).amount)??""}${t(s),a(()=>t(s).type==="reps"?" reps":"s")??""} `)}),n(k,U)}),e(C),e(w),h(()=>u(R,`Repeat ${t(c),a(()=>t(c).count)??""} time(s) `)),n(G,w)}),e(b),n(g,b)},dt=g=>{var b=ht(),G=V(b);{var c=I=>{var w=qt();K(w,5,()=>(t(r),a(()=>t(r).exercises)),M,(L,o)=>{var R=Zt(),S=v(R),H=v(S,!0);e(S);var C=l(S,2),k=v(C),s=l(k);{var U=_=>{var i=Dt(),y=v(i);e(i),h(()=>u(y,` • ${t(o),a(()=>t(o).sets)??""} sets`)),n(_,i)};j(s,_=>{t(o),a(()=>t(o).sets&&t(o).sets>1)&&_(U)})}var A=l(s,2);{var J=_=>{var i=Et(),y=v(i);e(i),h(()=>u(y,` • ${t(o),a(()=>t(o).rest)??""}${t(o),a(()=>typeof t(o).rest=="number"?"s":"")??""}
                  rest`)),n(_,i)};j(A,_=>{t(o),a(()=>t(o).rest)&&_(J)})}e(C);var D=l(C,2);{var Z=_=>{var i=Lt(),y=v(i,!0);e(i),h(()=>u(y,(t(o),a(()=>t(o).notes)))),n(_,i)};j(D,_=>{t(o),a(()=>t(o).notes)&&_(Z)})}e(R),h(()=>{u(H,(t(o),a(()=>t(o).name))),u(k,`${t(o),a(()=>t(o).amount)??""}${t(o),a(()=>t(o).type==="reps"?" reps":typeof t(o).amount=="number"?"s":"")??""} `)}),n(L,R)}),e(w),n(I,w)};j(G,I=>{t(r),a(()=>t(r).exercises)&&I(c)},!0)}n(g,b)};j(lt,g=>{t(r),a(()=>t(r).rounds)?g(_t):g(dt,!1)})}h((g,b)=>{u(B,(t(r),a(()=>t(r).name))),X(Q,"href",`/workout/${g??""}/run`),X(T,"href",`/workout/${b??""}/edit`)},[()=>(t(r),a(()=>encodeURIComponent(t(r).name))),()=>(t(r),a(()=>encodeURIComponent(t(r).name)))]),ft("click",nt,st),n(p,$)},vt=p=>{var $=Bt();n(p,$)};j(et,p=>{t(r)?p(rt):p(vt,!1)})}e(z),n(tt,z),bt(),ot()}export{Xt as component};
