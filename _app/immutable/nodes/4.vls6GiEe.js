import{f as d,a as n,t as ft,c as mt}from"../chunks/aMNKUq1k.js";import{i as ht}from"../chunks/CpFSCype.js";import{B as ct,K as jt,L as $t,C as gt,A as bt,y as kt,F as v,z as t,I as e,M as X,D as l,u as a,J as h}from"../chunks/C-nfCbfq.js";import{s as u,e as wt}from"../chunks/064OOvbh.js";import{i as j}from"../chunks/CEdrGF4v.js";import{s as Y,e as H,i as N}from"../chunks/BWomK3WN.js";import{s as yt,a as Z}from"../chunks/CKJrsXZy.js";import{p as Wt}from"../chunks/D26yDGbf.js";import{w as x}from"../chunks/C_6LLp3Z.js";import{g as E}from"../chunks/DeyG3rl-.js";var Ct=d("<span> </span>"),Rt=d("<span> </span>"),It=d('<div class="exercise-notes svelte-thejo2"> </div>'),St=d('<li class="svelte-thejo2"><div class="exercise-name svelte-thejo2"> </div> <div class="exercise-details svelte-thejo2"> <!> <!></div> <!></li>'),Ut=d('<div class="round-card svelte-thejo2"><h3 class="svelte-thejo2"></h3> <p class="round-meta svelte-thejo2"> <!></p> <ul class="exercise-list svelte-thejo2"></ul></div>'),At=d('<div class="rounds-container"></div>'),Dt=d("<span> </span>"),Lt=d("<span> </span>"),zt=d('<div class="exercise-notes svelte-thejo2"> </div>'),Bt=d('<li class="svelte-thejo2"><div class="exercise-name svelte-thejo2"> </div> <div class="exercise-details svelte-thejo2"> <!> <!></div> <!></li>'),Et=d('<ul class="exercise-list standalone svelte-thejo2"></ul>'),Ft=d('<h1 class="svelte-thejo2"> </h1> <div class="actions svelte-thejo2"><a class="button button-start svelte-thejo2">Start Workout</a> <a class="button button-edit svelte-thejo2">Edit</a> <button class="button button-delete svelte-thejo2">Delete Workout</button></div> <h2 class="svelte-thejo2">Workout Structure</h2> <!>',1),Jt=d("<p>Workout not found. Loading...</p>"),Kt=d('<div class="container svelte-thejo2"><!></div>');function Xt(tt,at){ct(at,!1);const O=()=>Z(Wt,"$page",Q),P=()=>Z(x,"$workouts",Q),[Q,st]=yt();let r=kt();function ot(){t(r)&&confirm(`Are you sure you want to delete "${t(r).name}"?`)&&(x.update(p=>p.filter($=>$.name!==t(r)?.name)),E("/"))}jt(()=>(O(),P(),E),()=>{const p=O().params.slug;if(p){const $=decodeURIComponent(p),W=P().find(J=>J.name===$);W?bt(r,W):E("/")}else E("/")}),$t(),ht();var F=Kt(),et=v(F);{var rt=p=>{var $=Ft(),W=X($),J=v(W,!0);e(W);var K=l(W,2),T=v(K),V=l(T,2),nt=l(V,2);e(K);var lt=l(K,4);{var _t=g=>{var b=At();H(b,5,()=>(t(r),a(()=>t(r).rounds)),N,(M,c,I)=>{var w=Ut(),z=v(w);z.textContent=`Round ${I+1}`;var s=l(z,2),C=v(s),S=l(C);{var q=k=>{var o=ft();h(()=>u(o,`, with ${t(c),a(()=>t(c).rest_after_round)??""}s rest after`)),n(k,o)};j(S,k=>{t(c),a(()=>t(c).rest_after_round)&&k(q)})}e(s);var R=l(s,2);H(R,5,()=>(t(c),a(()=>t(c).exercises)),N,(k,o)=>{var U=St(),A=v(U),G=v(A,!0);e(A);var D=l(A,2),B=v(D),_=l(B);{var i=f=>{var m=Ct(),L=v(m);e(m),h(()=>u(L,` • ${t(o),a(()=>t(o).sets)??""} sets`)),n(f,m)};j(_,f=>{t(o),a(()=>t(o).sets&&t(o).sets>1)&&f(i)})}var y=l(_,2);{var it=f=>{var m=Rt(),L=v(m);e(m),h(()=>u(L,` • ${t(o),a(()=>t(o).rest)??""}s rest`)),n(f,m)};j(y,f=>{t(o),a(()=>t(o).rest)&&f(it)})}e(D);var ut=l(D,2);{var pt=f=>{var m=It(),L=v(m,!0);e(m),h(()=>u(L,(t(o),a(()=>t(o).notes)))),n(f,m)};j(ut,f=>{t(o),a(()=>t(o).notes)&&f(pt)})}e(U),h(()=>{u(G,(t(o),a(()=>t(o).name))),u(B,`${t(o),a(()=>t(o).amount)??""}${t(o),a(()=>t(o).type==="reps"?" reps":"s")??""} `)}),n(k,U)}),e(R),e(w),h(()=>u(C,`Repeat ${t(c),a(()=>t(c).count)??""} time(s) `)),n(M,w)}),e(b),n(g,b)},dt=g=>{var b=mt(),M=X(b);{var c=I=>{var w=Et();H(w,5,()=>(t(r),a(()=>t(r).exercises)),N,(z,s)=>{var C=Bt(),S=v(C),q=v(S,!0);e(S);var R=l(S,2),k=v(R),o=l(k);{var U=_=>{var i=Dt(),y=v(i);e(i),h(()=>u(y,` • ${t(s),a(()=>t(s).sets)??""} sets`)),n(_,i)};j(o,_=>{t(s),a(()=>t(s).sets&&t(s).sets>1)&&_(U)})}var A=l(o,2);{var G=_=>{var i=Lt(),y=v(i);e(i),h(()=>u(y,` • ${t(s),a(()=>t(s).rest)??""}${t(s),a(()=>typeof t(s).rest=="number"?"s":"")??""}
                  rest`)),n(_,i)};j(A,_=>{t(s),a(()=>t(s).rest)&&_(G)})}e(R);var D=l(R,2);{var B=_=>{var i=zt(),y=v(i,!0);e(i),h(()=>u(y,(t(s),a(()=>t(s).notes)))),n(_,i)};j(D,_=>{t(s),a(()=>t(s).notes)&&_(B)})}e(C),h(()=>{u(q,(t(s),a(()=>t(s).name))),u(k,`${t(s),a(()=>t(s).amount)??""}${t(s),a(()=>t(s).type==="reps"?" reps":typeof t(s).amount=="number"?"s":"")??""} `)}),n(z,C)}),e(w),n(I,w)};j(M,I=>{t(r),a(()=>t(r).exercises)&&I(c)},!0)}n(g,b)};j(lt,g=>{t(r),a(()=>t(r).rounds)?g(_t):g(dt,!1)})}h((g,b)=>{u(J,(t(r),a(()=>t(r).name))),Y(T,"href",`/workout/${g??""}/run`),Y(V,"href",`/workout/${b??""}/edit`)},[()=>(t(r),a(()=>encodeURIComponent(t(r).name))),()=>(t(r),a(()=>encodeURIComponent(t(r).name)))]),wt("click",nt,ot),n(p,$)},vt=p=>{var $=Jt();n(p,$)};j(et,p=>{t(r)?p(rt):p(vt,!1)})}e(F),n(tt,F),gt(),st()}export{Xt as component};
